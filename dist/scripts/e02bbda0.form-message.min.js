(function(){var a,b,c=function(a,b){return function(){return a.apply(b,arguments)}};b=function(){function a(a){return this.load=c(this.load,this),this.save=c(this.save,this),a=$.extend({author:"",message:""},a),this.date=new Date,this.author=a.author,this.message=a.message,this}var b,d,e;return d=null,b=null,e=null,a.prototype.save=function(a){return localStorage.setObject(a,this),this},a.prototype.load=function(a){var b;return b=localStorage.getObject(a),this.date=b.date,this.author=b.author,this.message=b.message,this},a}(),a=function(){function a(a){return this.bind=c(this.bind,this),a=$.extend({formElId:"",listElId:""},a),this.formEl=$(a.formElId),this.listEl=$(a.listElId),this.bind(),this}var d,e;return d=null,e=null,a.prototype.bind=function(){var a=this;return this.formEl.on({submit:function(c){var d,e,f,g,h,i,j,k,l,m,n,o,p;return c.preventDefault(),e={message:""},a.formEl.find("input:checkbox").each(function(){return e[$(this).data("field-name")]=$(this).is(":checked")}),a.formEl.find("input:text, textarea, select").each(function(){return e[$(this).data("field-name")]=$(this).val()}),l=new b({author:"Vous",message:e.message}),f=new Date,l.save("message-"+f.getTime()),d=$("<div>",{"class":"row"}),m=$("<div>",{"class":"message col-lg-6 col-lg-push-5 col-md-6 col-md-push-5 col-md-push-5 col-sm-6 col-sm-push-5"}),i=$("<div>",{"class":"row"}),h=$("<figure>",{"class":"col-lg-3 col-md-2 col-sm-2 col-xs-3"}),k=$("<img>",{"class":"avatar img-rounded"}),h.append(k),i.append(h),j=$("<div>",{"class":"col-lg-9 col-md-10 col-sm-10 col-xs-9"}),p=$("<h4>",{"class":"message-title"}),p.html(l.author),g=$("<p>",{"class":"message-date"}),n=parseInt((f.getTime()-l.date.getTime())/6e4),g.html("Il y a "+n+" min"),j.append(p),j.append(g),i.append(j),m.append(i),m.append($("<hr>")),o=$("<p>",{"class":"message-text"}),o.html(l.message),m.append(o),d.append(m),a.listEl.append(d),a}}),this},a}(),$(function(){var b;return b=new a({formElId:"#form-message",listElId:"#app-content"})})}).call(this);