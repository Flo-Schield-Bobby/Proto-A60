(function() {
  var GPSSelector,
    __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

  GPSSelector = (function() {
    GPSSelector.listEl = null;

    function GPSSelector(config) {
      this.bind = __bind(this.bind, this);
      config = $.extend({
        'listElId': '#'
      }, config);
      this.listEl = $(config.listElId);
      this.bind();
      return this;
    }

    GPSSelector.prototype.bind = function() {
      console.log('bind', this);
      $('a', '#' + this.listEl.attr('id')).on('click', function(e) {
        $('.list-group-item.active').removeClass('active');
        $(this).addClass('active');
        e.preventDefault();
        return $(window).trigger('map.setview', {
          'lat': $(this).data('coords-lat'),
          'lng': $(this).data('coords-lng'),
          'address': $(this).data('address')
        });
      });
      return this;
    };

    return GPSSelector;

  })();

  $(function() {
    var __gps_selector__;
    return __gps_selector__ = new GPSSelector({
      'listElId': '#addresses-selector'
    });
  });

}).call(this);
