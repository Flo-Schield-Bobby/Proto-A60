(function() {
  var Loader,
    __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

  Loader = (function() {
    var progressBarEl;

    progressBarEl = null;

    function Loader(config) {
      this.launch = __bind(this.launch, this);
      this.init = __bind(this.init, this);
      config = $.extend({
        'progressBarElId': ''
      }, config);
      this.progressBarEl = $(config.progressBarElId);
      this.init();
      return this;
    }

    Loader.prototype.init = function() {
      this.launch();
      return this;
    };

    Loader.prototype.launch = function() {
      this.progressBarEl.addClass('complete').on('transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd', function(e) {
        return window.location.href = $(this).data('load');
      });
      return this;
    };

    return Loader;

  })();

  $(function() {
    var __loader__;
    return __loader__ = new Loader({
      'progressBarElId': '#progress-bar'
    });
  });

}).call(this);
